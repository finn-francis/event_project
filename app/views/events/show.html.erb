<div id="show-event" class="row bg-light-grey">
  <div id="event-image-div" class="col-md-4">
    <div id="event-image">
      <img src="<%= @event.image_url %>">
    </div>
  </div>

  <div id="map" class="col-md-8" data-latitude="<%= @event.latitude %>" data-longitude="<%= @event.longitude %>" data-user-id="<%= @current_user.id %>"></div>

  <div id="attending" class="col-md-4 m-t">
    <div class="col-md-12 dft-border bg-white">
      <h3><%= t('event.show.attending') %></h3>
      <hr>
      <div class="row">
        <%= render partial: "attendee", collection: @attendees %>
      </div>
    </div>
  </div>

  <div class="col-md-8">
    <div id="event-info" class="m-t">
      <div class="col-md-12 dft-border bg-white">
        <div id="info">
          <h3><%= @event.title %></h3>
          <hr>
          <p><%= @event.description %></p>
        </div>

        <hr>

        <div id="event-tags">
          <ul id="tag-list" class="list-inline">
            <%= render @event.tags %>
          </ul>
          <% if @current_user == @event.organiser %>
            <button id="new-tag-button" class="btn btn-sm btn-default"><%= t('tag.new') %></button>
          <% end %>
          <%= form_for [@event, Tag.new], html: { id: 'new-tag-form', class: 'hidden-form' }, remote: true do |f| %>
            <div class="form-group">
              <%= f.text_field :name, class: 'form-control', placeholder: t('tag.name'), required: true %>
            </div>

            <div class="form-group">
              <%= f.submit t('tag.save'), id: 'tag-submit', class: 'btn btn-default pull-right' %>
            </div>
          <% end %>
        </div>
      </div>
    </div>

    <div id="comments">
      <div class="col-md-12 dft-border bg-white m-t dft-padding">
        <div id="event-comments">
          <%= render @comments %>
        </div>

        <%= form_for [@event, Comment.new], remote: true do |f| %>
          <%= f.hidden_field :user_id, value: @current_user.id %>
          <div class="form-group">
            <%= f.label [t('comment.new'), ':'].join, class: 'h4'  %>
            <%= f.text_area :body, class: 'form-control', placeholder: t('comment.new'), required: true %>
          </div>

          <div class="form-group">
            <%= f.submit t('comment.submit'), id: 'comment-submit', class: 'btn btn-default' %>
          </div>
        <% end %>
      </div>
    </div>
  </div>


  <script async defer src="https://maps.googleapis.com/maps/api/js?key=<%= ENV["GOOGLE_MAPS_API_KEY"] %>&callback=initMap">
  </script>
</div>

